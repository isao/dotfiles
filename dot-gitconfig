[user]
	name = Isao Yagi
	email = isao@yahoo-inc.com

[core]
	pager = less
	;works for git, not tig:
	; editor = bbedit --wait --resume
	editor = bbedit..sh
	excludesfile = /Users/isao/.gitignore
	quotepath = false

[color]
	;colorize output on console
	ui = auto

[pack]
	;use all cpu cores
	threads = 0

[push]
	default = current

[web]
	browser = elinks

[credential]
	;for https git uris w/ auth
	helper = osxkeychain

[alias]
    fetchcrazy = !"find . -type d -name .git -execdir git fetch --all -v \\;"
	pub = !"for i in `git remote`; do echo $i...; git push $i; done"
	pull-rebase-no-ff = pull --rebase --no-ff
	lf = log --no-merges --name-status
	lg = log --no-merges --graph --format='%h %s (%aN)'

[github]
	user = isao
	password = !security find-generic-password -gs github.password -w | tr -d '\n'

[hub]
	protocol = git

; bbedit
[diff]
	tool = bbdiff
[difftool]
	prompt = no
[difftool "bbdiff"]
	cmd = bbdiff --wait --resume "$LOCAL" "$REMOTE"
[alias]
	bbdiff = difftool

[merge]
	tool = bbdiff
[mergetool]
	prompt = no
[mergetool "bbdiff"]
	cmd = bbdiff --wait --resume "$LOCAL" "$REMOTE"
[alias]
	bbmerge = mergetool


[tig]
	author-width = 3
	horizontal-scroll = 25%
	line-graphics = utf-8
	show-refs = yes
	show-rev-graph = yes
	tab-size = 2

[tig "bind"]
	;allow escape to toggle between main and status views
	status = Escape view-main
	main = Escape view-status

	;generic = < !git stash
	;generic = > !git stash pop
	generic = ^p !git pull --rebase --no-ff

	;bbdiff all files on stage
	generic = 2 !git bbdiff

	;open in bbedit
	generic = ^b !bbedit %(file)

	;reveal current selection in a Finder window
	generic = ^f !open -R %(file)

	;reveal current selection in a new Terminal window
	generic = ^t !newterm.sh %(directory)

	;open in gitx
	generic = ^x !gitx -- %(file)

[difftool "sourcetree"]
	cmd = opendiff \"$LOCAL\" \"$REMOTE\"
	path =

[mergetool "sourcetree"]
	cmd = /Applications/SourceTree.app/Contents/Resources/opendiff-w.sh \"$LOCAL\" \"$REMOTE\" -ancestor \"$BASE\" -merge \"$MERGED\"
	trustExitCode = true
